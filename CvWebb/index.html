<!DOCTYPE html>
<html lang="sv">

<head>
    <meta charset="UTF-8">
    <title>Min CV sida</title>
    <link rel="stylesheet" type="text/css" href="style.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Space+Mono&family=Ubuntu:wght@500&display=swap"
        rel="stylesheet">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script>
        async function getData() {
            const response = await fetch("cvfile.json");
            const data = await response.json();

            const work = data.work;
            let workText = "";

            for (let i = 0; i < work.length; i++) {

                workText += "<br/>"

                let obj = work[i];

                for (let key in obj) {
                    let value = obj[key];
                    workText += "<br>" + value;
                }
                document.getElementById("work").innerHTML = workText;
            }
        }
    </script>
</head>


<body>
    <hgroup>
        <h1>Om mig</h1>
    </hgroup>
    <nav>
        <ul>
            <li><a class="nuvarande">Om mig</a></li>
            <li><a href="index2.html">Sammanfattning</a></li>
            <li><a href="index3.html">Arbetserfarenhet</a></li>
            <li><a href="index4.html">Portfolio</a></li>
        </ul>
    </nav>
    <main>
        <article>
            <p>Mitt namn är Johan Ögren och är <span id="Easteregg">29år.</span><br><br>
                Bor i centrala Örnsköldsvik.<br> Mina främsta intressen är ny teknik, Fordon/bilar, driftig<br> samt
                umgås med familj och vänner.<br> Intresserad av att möta nytt folk och knyta nya kontakter.<br>
                Regelbunden träning samt hälsa är någonting som är väldigt viktigt för mig.<br><br>

                <br>
            </p>
            <h3>↧ Json Information ↧</h3>
            <p>
                <!--javascript jsonKOD-->
                <span class="jsontext" id="work"></span><br>
                <!--javascript jsonKOD-->
            </p>

            <p>
                <a href="tel:0705250632">Tele: <adress>070 525 0532</a></adress><br>
                <i class="fa-solid fa-phone"></i>
                </div>
                <a href="mailto:Ogren.Johan@edu.edugrade.se"> Epost: <adress>Ogren.Johan@edu.edugrade.se</a></adress>
            </p>
            <div class="wrapper">
                <img class="img-me" src="johan.jpg" alt="Bild av skaparen Johan Ögren" height="720" width="960" />
            </div>
        </article>
    </main>
    <footer>
        <p>Copyright © 2022 by<strong> Johan Ögren</strong></p>
    </footer>
    <script>

        getData();
        //Easteregg 1337
        const matchWord = (word, callback) => {
            let matched = 0
            const onKeyPress = e => {
                // convert the keycode to the character
                const char = String.fromCharCode(e.which)
                console.log(char)
                // check if the current character is the expected character
                if (word.charAt(matched) === char) {
                    // move on to the next character
                    matched++
                }
                else {
                    // reset the counter
                    matched = 0
                }
                if (matched === word.length) {
                    callback(e, word)
                    matched = 0
                }
            }
            document.addEventListener('keydown', onKeyPress, true)
        }

        matchWord('1337', (e, word) => {

            alert("1337");

            console.log(`you typed ${word}`)
        });

        //Easteregg background
        var myFunction = function (event) {
            document.body.style.background = "red";
        }
        document.getElementById('Easteregg').addEventListener('pointerdown', myFunction);
    //Easteregg slut
    </script>
</body>

</html>